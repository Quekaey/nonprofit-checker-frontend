<div class="checker-container">
  <form [formGroup]="form" (ngSubmit)="submit()">
    <div class="form-group">
      <label for="ein">EIN</label>
      <input id="ein" formControlName="ein" placeholder="123456789" />
    </div>

    <div class="form-group">
      <label for="name">Organization Name</label>
      <input id="name" formControlName="name" placeholder="Acme Nonprofit" />
    </div>

    <div *ngIf="form.errors?.required" class="error">
      Please provide an EIN or organization name.
    </div>

    <button type="submit" [disabled]="loading">Check Compliance</button>
  </form>

  <div *ngIf="loading" class="loading">Loading…</div>
  <div *ngIf="error" class="error">{{ error }}</div>

  <div *ngIf="data" class="results">
    <h2>Compliance Result</h2>
    <pre>{{ data | json }}</pre>

    <h3>Recent Searches</h3>
    <ul>
      <li *ngFor="let h of history">
        {{ h.timestamp }} — {{ h.query | json }}
      </li>
    </ul>
  </div>
</div>
